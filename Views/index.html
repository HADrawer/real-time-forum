<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/Css/styles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <title>Main Page</title>
    </head>

    <body>
        <script src="/Js/app.js"></script>
        <!-- the header is static between all pages except log in
        Note: we need to find a solution for log in page for header
        Maybe we can use {if log-in} {end} 
        -->
        {{if .IsLoggedIn}}
        <header>
            <div class="headerDiv">
                <div class="Project-Name"><a href="/">Real-Time Forum</a></div>
                <nav>
                <ul>
                    <li><a href="/Create"> Create Post</a></li>
                    <li><a href="/Direct">messages</a></li>
                    <button class="Headerbutton"><a href="/logout">Log out</a></button>
                </ul>
                </nav>
                <!-- <h1 class="UserName">hashem</h1> -->
            </div>
        </header>
        {{end}}
        
        <main id="content">
                <!-- Dynamic contant-->
            <div class="content-wrapper">
                <div class="posts">
                    {{if .IsLoggedIn}}
                    {{if .isExist}}
                        {{range .Posts}}
                            <div class="content">
                                <div class="infoStupid">
                                    <a href="/Post?id={{.Id}}"><h3>{{.Title}}</h3></a>
                                    <p>Posted By {{.Author}}</p>
                                    <h5>{{.created_at}}</h5>
                                </div>
                            </div>
                        {{end}}
                    {{else}}
                        <div class="content">
                            <div class="info">
                                <h1>{{.NoPosts}}</h1>
                            </div>
                        </div>
                    {{end}}
                    {{end}}
                </div>
            </div>


        </main>
        
        <footer>
            <p>&copy; 2025 Greatest Real-Time Forum .All rights reserved</p>
        </footer>
    </body>

</html>